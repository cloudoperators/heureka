-- SPDX-FileCopyrightText: 2025 SAP SE or an SAP affiliate company and Greenhouse contributors
-- SPDX-License-Identifier: Apache-2.0

-- Revert the migration by dropping the event, procedure, and table

-- 1. Drop the event if it exists
DROP EVENT IF EXISTS refresh_mvSingleComponentByServiceVulnerabilityCounts;
DROP EVENT IF EXISTS refresh_mvAllComponentsByServiceVulnerabilityCounts;

-- 2. Drop the procedure if it exists
DROP PROCEDURE IF EXISTS refresh_mvSingleComponentByServiceVulnerabilityCounts_proc;
DROP PROCEDURE IF EXISTS refresh_mvAllComponentsByServiceVulnerabilityCounts_proc;

-- 3. Drop the table if it exists
DROP TABLE IF EXISTS mvSingleComponentByServiceVulnerabilityCounts;
DROP TABLE IF EXISTS mvAllComponentsByServiceVulnerabilityCounts;